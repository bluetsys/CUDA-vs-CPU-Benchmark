# ë²¡í„° ë”í•˜ê¸° ì„±ëŠ¥ ë¹„êµ í”„ë¡œì íŠ¸

Pythonì—ì„œ C++ë¥¼ í˜¸ì¶œí•˜ì—¬ CUDAë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
CPU Python, CPU C++, CUDA C++, Numpy 4ê°€ì§€ ë°©ì‹ì˜ ì„±ëŠ¥ì„ ë¹„êµí•©ë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
project/
â”œâ”€â”€ README.md                    # í”„ë¡œì íŠ¸ ì„¤ëª…
â”œâ”€â”€ build.sh                     # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ main.py                      # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ pyproject.toml              # Python í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ build/                       # ì»´íŒŒì¼ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ kernel.so               # CUDA ì»´íŒŒì¼ ê²°ê³¼
â”‚   â””â”€â”€ kernel_cpu.so           # CPU C++ ì»´íŒŒì¼ ê²°ê³¼
â”œâ”€â”€ modules/                     # Python ëª¨ë“ˆ
â”‚   â”œâ”€â”€ benchmark.py            # ë²¤ì¹˜ë§ˆí¬ í•¨ìˆ˜
â”‚   â””â”€â”€ chart.py                # ì°¨íŠ¸ ìƒì„±
â”œâ”€â”€ src/                         # C++ ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ kernel.cu               # CUDA ì»¤ë„
â”‚   â””â”€â”€ kernel_cpu.cpp          # CPU C++ êµ¬í˜„
â””â”€â”€ performance_comparison.png   # ìƒì„±ëœ ì°¨íŠ¸

```

## ë¯¸ë¦¬ë³´ê¸°
![image](./performance_comparison.png)  

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­

**í•„ìˆ˜:**
- CUDA Toolkit (GPU ì‚¬ìš© ì‹œ)
- g++ (CPU C++ ì»´íŒŒì¼ìš©)
- Python 3.7+

**Python íŒ¨í‚¤ì§€:**
```bash
pip install numpy matplotlib
```

### 2. ë¹Œë“œ

```bash
chmod +x build.sh
./build.sh
```

ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ:

**CPU C++ ì»´íŒŒì¼:**
```bash
g++ -shared -fPIC -O3 -fopenmp -o build/kernel_cpu.so src/kernel_cpu.cpp
```

**CUDA C++ ì»´íŒŒì¼:**
```bash
nvcc -shared -Xcompiler -fPIC -Xcompiler -O3 -o build/kernel.so src/kernel.cu
```

### 3. ì‹¤í–‰

```bash
python main.py
```

## ğŸ“Š ì¶œë ¥ ê²°ê³¼

### ì½˜ì†” ì¶œë ¥

```
================================================================================
ë²¡í„° ë”í•˜ê¸° ì„±ëŠ¥ ë¹„êµ: CPU Python vs CPU C++ vs CUDA C++ vs Numpy
================================================================================

ğŸ“Œ ì£¼ì˜: CUDAëŠ” ë©”ëª¨ë¦¬ í• ë‹¹/ë³µì‚¬/ê³„ì‚°/ë³µì‚¬ ì „ì²´ ì˜¤ë²„í—¤ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤
   ë‹¨ìˆœ ë§ì…ˆ ê°™ì€ ì‘ì€ ì‘ì—…ì—ì„œëŠ” CPUê°€ ë” ë¹ ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°ì´í„° í¬ê¸°: 1,000,000 ê°œ (3.8 MB)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ 1. CPU Python      |    1.234 ms Â±   0.050 ms
âœ“ 2. CPU C++         |    0.156 ms Â±   0.020 ms
âœ“ 3. CUDA C++        |    8.500 ms Â±   0.500 ms  (ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ í¬í•¨)
âœ“ 4. Numpy           |    0.089 ms Â±   0.015 ms

ê²°ê³¼ ê²€ì¦:
  CPU Python          | ìµœëŒ€ ì˜¤ì°¨: 0.00e+00
  CPU C++             | ìµœëŒ€ ì˜¤ì°¨: 0.00e+00
  CUDA C++            | ìµœëŒ€ ì˜¤ì°¨: 0.00e+00
  Numpy               | ìµœëŒ€ ì˜¤ì°¨: 0.00e+00

ìƒëŒ€ ì†ë„ (CPU Python = 1.0ë°°):
  ğŸš€ CPU C++          |  7.91ë°°
  ğŸš€ Numpy            | 13.87ë°°
  ğŸ¢ CUDA C++         |  0.14ë°°
```

### ì´ë¯¸ì§€ ìƒì„±

`performance_comparison.png` íŒŒì¼ì´ ìƒì„±ë˜ë©°, 4ê°œì˜ ì°¨íŠ¸ í¬í•¨:

1. **ì‹¤í–‰ ì‹œê°„ ë¹„êµ** (ì„  ê·¸ë˜í”„, ë¡œê·¸ ìŠ¤ì¼€ì¼)
2. **ìƒëŒ€ ì†ë„ ë¹„êµ** (ë§‰ëŒ€ ê·¸ë˜í”„, ë¡œê·¸ ìŠ¤ì¼€ì¼)
3. **í‰ê·  ì„±ëŠ¥ ìˆœìœ„** (ë§‰ëŒ€ ê·¸ë˜í”„)
4. **ë°ì´í„° í¬ê¸°ë³„ ë¹„êµ** (ê·¸ë£¹ ë§‰ëŒ€, ë¡œê·¸ ìŠ¤ì¼€ì¼)

## ğŸ“ íŒŒì¼ ì„¤ëª…

### main.py
- ë©”ì¸ ì§„ì…ì 
- `benchmark.run_benchmark()` í˜¸ì¶œ
- `chart.print_summary()` í˜¸ì¶œ
- `chart.create_performance_charts()` í˜¸ì¶œ

### modules/benchmark.py
- `vector_add_cpu_python()`: ìˆœìˆ˜ Python + numpy
- `vector_add_cpu_cpp()`: C++ í•¨ìˆ˜ í˜¸ì¶œ
- `vector_add_cuda_cpp()`: CUDA í•¨ìˆ˜ í˜¸ì¶œ
- `vector_add_numpy()`: numpy ë²¡í„°í™” ì—°ì‚°
- `run_benchmark()`: ëª¨ë“  ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰

### modules/chart.py
- `create_performance_charts()`: 4ê°œ ì°¨íŠ¸ ìƒì„±
- `print_summary()`: ì¢…í•© ê²°ê³¼í‘œ ì¶œë ¥

### src/kernel.cu
- CUDA ì»¤ë„ êµ¬í˜„
- `cuda_vector_add()`: C ì¸í„°í˜ì´ìŠ¤

### src/kernel_cpu.cpp
- CPU C++ êµ¬í˜„
- OpenMPë¥¼ ì‚¬ìš©í•œ ë³‘ë ¬ ì²˜ë¦¬

## ğŸ”§ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ë°ì´í„° í¬ê¸° ë³€ê²½

`main.py`ì˜ `sizes` ë³€ìˆ˜ ìˆ˜ì •:

```python
sizes = [1_000_000, 10_000_000, 100_000_000]  # ê¸°ë³¸ê°’
sizes = [100_000, 1_000_000, 10_000_000]     # ë” ì‘ì€ í¬ê¸°
```

### ë°˜ë³µ íšŸìˆ˜ ë³€ê²½

`modules/benchmark.py`ì˜ `run_benchmark()` í•¨ìˆ˜ì—ì„œ:

```python
benchmark_method("1. CPU Python", vector_add_cpu_python, a, b, iterations=5)
```

## âš ï¸ CUDA ì„±ëŠ¥ ê´€ë ¨ ì£¼ì˜ì‚¬í•­

### CUDAê°€ ëŠë¦° ì´ìœ  (ì •ìƒì…ë‹ˆë‹¤!)

CUDAëŠ” ë‹¤ìŒ ë‹¨ê³„ì˜ **ì˜¤ë²„í—¤ë“œ**ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:

1. **GPU ë©”ëª¨ë¦¬ í• ë‹¹** (~1-5ms)
   - `cudaMalloc()`: GPU VRAMì— ë©”ëª¨ë¦¬ í• ë‹¹

2. **Host â†’ Device ë©”ëª¨ë¦¬ ë³µì‚¬** (PCIe ëŒ€ì—­í­ ì œí•œ)
   - 3.8MB: ~0.5-2ms
   - 38MB: ~5-20ms
   - 381MB: ~50-200ms

3. **GPU ì»¤ë„ ì‹¤í–‰** (ê³„ì‚°)
   - ê°„ë‹¨í•œ ë§ì…ˆ: ~0.1-1ms

4. **Device â†’ Host ë©”ëª¨ë¦¬ ë³µì‚¬** (ì—­ì‹œ PCIe ì œí•œ)
   - Host â†’ Deviceì™€ ìœ ì‚¬í•œ ì‹œê°„

5. **GPU ë™ê¸°í™”** ëŒ€ê¸°

### ì´ ì˜¤ë²„í—¤ë“œ ë¶„ì„

```
CUDA ì´ ì‹œê°„ = í• ë‹¹(1ms) + H2Dë³µì‚¬(2ms) + ê³„ì‚°(0.1ms) + D2Hë³µì‚¬(2ms) + ë™ê¸°í™”(0.1ms)
            â‰ˆ 5-10ms (ë‹¨ìˆœ ë§ì…ˆ ê¸°ì¤€)

CPU ì‹œê°„    = ê°„ë‹¨í•œ ë§ì…ˆ ì—°ì‚°
            â‰ˆ 1-2ms

ê²°ë¡ : CPUê°€ 5-10ë°° ë¹ ë¦„!
```

### CUDAê°€ ìœ ë¦¬í•œ ê²½ìš°

- **ë³µì¡í•œ ê³„ì‚°**: ë§¤íŠ¸ë¦­ìŠ¤ ê³±ì…ˆ, ì´ë¯¸ì§€ ì²˜ë¦¬, AI ëª¨ë¸ ì¶”ë¡ 
- **ëŒ€ìš©ëŸ‰ ë°ì´í„°**: ë©”ëª¨ë¦¬ ì „ì†¡ ì‹œê°„ì´ ê³„ì‚° ì‹œê°„ì— ë¹„í•´ ì‘ì„ ë•Œ
- **ì¬ì‚¬ìš©**: ë°ì´í„°ë¥¼ GPUì— ìœ ì§€í•˜ë©´ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•  ë•Œ
- **ë³‘ë ¬ ì²˜ë¦¬ í•„ìš”**: 1000ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œ ë™ì‹œ ì‹¤í–‰

### ë²¤ì¹˜ë§ˆí¬ í•´ì„

| ì‘ì—… í¬ê¸° | CPUê°€ ë¹ ë¥¸ ì´ìœ  | 
|---------|--------------|
| 1-10M   | ë©”ëª¨ë¦¬ ì „ì†¡ ì˜¤ë²„í—¤ë“œ > ê³„ì‚° ì‹œê°„ |
| 100M    | ë‹¨ìˆœ ë§ì…ˆì€ CPU ë©”ëª¨ë¦¬ ëŒ€ì—­í­ë„ ì¶©ë¶„ |
| 1B+     | ë” ë³µì¡í•œ ì‘ì—…ì´ë©´ CUDA ìœ ë¦¬ |


## ğŸ“š ì°¸ê³ 

- CUDA ì„¤ì¹˜: https://developer.nvidia.com/cuda-downloads
- OpenMP ë¬¸ì„œ: https://www.openmp.org/
- matplotlib ë¬¸ì„œ: https://matplotlib.org/
- claude Haiku 4.5ë¥¼ ì´ìš©í•´ì„œ Vibe Codingìœ¼ë¡œ ì‘ì„± ë˜ì—ˆìŠµë‹ˆë‹¤.